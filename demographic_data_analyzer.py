# -*- coding: utf-8 -*-
"""demographic_data_analyzer.py

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1hBi-xQD1OrRWTda3TcF_JbSyHLDk6SDo
"""

# Commented out IPython magic to ensure Python compatibility.
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# %matplotlib inline

# Specify the file path
file_path = "adult.data"  # Replace "path_to_your_file.csv" with the actual path to your CSV file
column_names=["age", "workclass", "fnlwgt", "education", "education-num", "marital-status",
              "occupation", "relationship",  "race", "sex", "capital-gain",
              "capital-loss", "hours-per-week", "native-country", "salary"]
# Load the CSV file into a Pandas DataFrame
census = pd.read_csv(file_path, names=column_names, sep=',')

# Display the DataFrame

census

census.info()

census['occupation'].unique()

census['native-country'].unique()

# we clean the non string datas
census = census[census['native-country'] != ' ?']
census = census[census['occupation'] != ' ?']

census.describe()

# Number of people of each race represented in the dataset
census["race"].value_counts()

# average age of men
ave_age_men=census.loc[census['sex']==' Male', 'age'].mean()
round(ave_age_men , 1)

#percentage of people who have a Bachelor's degree

total_with_bachelors=(census['education'] == ' Bachelors').sum()
total_people= census.shape[0]
percentage_with_bachelors= (total_with_bachelors / total_people) * 100
round(percentage_with_bachelors, 1)

# percentage of people with advanced education
#(Bachelors, Masters, or Doctorate) make more than 50K

total_with_adv_edu =  ((census['education'].isin([' Bachelors', ' Masters', ' Doctorate'])) &(census['salary']== ' >50K')).sum()
percent_with_adv_edu= (total_with_adv_edu / total_people)*100
round(percent_with_adv_edu,1)

#Â Another Way
# percentage of people with advanced education
#(Bachelors, Masters, or Doctorate) make more than 50K

total_with_adv_Edu=census.loc[(census['salary'] == ' >50K') & ((census['education']== ' Bachelors')|(census['education'] == ' Masters')| (census['education']== ' Doctorate' ))]
round(total_with_adv_Edu.shape[0]/total_people * 100 , 1)

# percentage of people without advanced education make more than 50K

total_without_adv_edu =  (~((census['education'].isin([' Bachelors', ' Masters', ' Doctorate']))) &(census['salary']== ' >50K')).sum()
percent_without_adv_edu= (total_without_adv_edu / total_people)*100
percent_without_adv_edu

#What is the minimum number of hours a person works per week?
minum_hour_work=census['hours-per-week'].min()
minum_hour_work

# percentage of the people who work the minimum number of hours per week have a
# salary of more than 50K
total_with_min_hour=(census.loc[(census['hours-per-week']== minum_hour_work) & (census['salary']== ' >50K')]).shape[0]
percen_with_min_hour= total_with_min_hour/ total_people * 100
round(percen_with_min_hour, 1)

#What country has the highest percentage of people that earn >50K and what is that percentage?
country_with_hig= census.loc[census['salary']== ' >50K', 'native-country'].value_counts()
country_with_hig.head(1)

#percentage of country with the highest percentage of people that earn >50K
percentage= country_with_hig.head(1) / country_with_hig.sum() * 100
peecentage

#Identify the most popular occupation for those who earn >50K in India.
census.loc[(census['salary']== ' >50K') & (census['native-country']== ' India'), 'occupation'].head(1)



